function generateSprite() {
	var canvas = document.createElement( 'canvas' );
	canvas.width = 16;
	canvas.height = 16;
	var context = canvas.getContext( '2d' );
	var gradient = context.createRadialGradient( canvas.width / 2, canvas.height / 2, 0, canvas.width / 2, canvas.height / 2, canvas.width / 2 );
	gradient.addColorStop( 0, 'rgba(255,255,255,1)' );
	gradient.addColorStop( 0.2, 'rgba(0,255,255,1)' );
	gradient.addColorStop( 0.4, 'rgba(0,0,64,1)' );
	gradient.addColorStop( 1, 'rgba(0,0,0,1)' );
	context.fillStyle = gradient;
	context.fillRect( 0, 0, canvas.width, canvas.height );
	return canvas;
}


var materialSprite = new THREE.SpriteMaterial( {
	map: new THREE.CanvasTexture( generateSprite() ),
	blending: THREE.AdditiveBlending
});

function initParticle( particle, delay ) {
	var particle = this instanceof THREE.Sprite ? this : particle;
	var delay = delay !== undefined ? delay : 0;
	particle.position.set( 0, 0, 0 );
	particle.scale.x = particle.scale.y = Math.random() * 32 + 16;
	new TWEEN.Tween( particle )
		.delay( delay )
		.to( {}, 10000 )
		.onComplete( initParticle )
		.start();
	new TWEEN.Tween( particle.position )
		.delay( delay )
		.to( { x: Math.random() * 4000 - 2000, y: Math.random() * 1000 - 500, z: Math.random() * 4000 - 2000 }, 10000 )
		.start();
	new TWEEN.Tween( particle.scale )
		.delay( delay )
		.to( { x: 0.01, y: 0.01 }, 10000 )
		.start();
}


var blackList = [10.54999999999982,15.459999999999715,16.18999999999973,16.859999999999836,17.689999999999966,18.570000000000103,19.57000000000026,20.520000000000408,21.260000000000524,22.290000000000685,23.28000000000084,24.220000000000987,24.910000000001094,28.120000000001596,34.57000000000169,35.660000000001475,36.39000000000133,37.370000000001134,38.520000000000906,39.580000000000695,42.53000000000011,45.459999999999525,46.359999999999346,49.54999999999871,53.699999999997885,55.26999999999757,71.71999999999979,73.05000000000047,74.46000000000119,76.53000000000225,77.37000000000268,78.56000000000328,80.61000000000433,81.5100000000048,83.57000000000585,84.47000000000631,88.5500000000084,89.58000000000892,90.53000000000941,94.06000000001121,99.68000000001409,104.69000000001665,105.81000000001723,109.75000000001924,112.46000000002063,113.33000000002107,115.44000000002215,116.33000000002261,117.35000000002313,118.8500000000239,121.4100000000252,122.36000000002569,140.41000000001728,142.61000000001528,147.310000000011,148.5300000000099,149.70000000000883,150.32000000000826,152.62000000000617,154.3600000000046,159.5099999999999,160.59999999999891,165.40999999999454,166.50999999999354,172.53999999998805,176.1299999999848,177.7599999999833,186.59999999997527,189.58999999997255,192.0599999999703,193.29999999996917,194.31999999996825,201.81999999996142,203.43999999995995,204.35999999995911,213.33999999995095,214.33999999995004,217.69999999994698,218.789999999946,219.74999999994512,220.62999999994432,222.64999999994248,228.53999999993712,230.4399999999354,236.4799999999299,242.88999999992407,243.56999999992345,244.4099999999227,253.1899999999147,255.54999999991256,257.5999999999107,268.57999999990074,271.559999999898,272.5499999998971,273.41999999989633,274.3499999998955,278.3899999998918,279.34999999989094,280.22999999989014,288.68999999988245,289.56999999988165,290.3599999998809,292.62999999987886,294.679999999877,297.8399999998741,299.46999999987264,302.1799999998702,305.41999999986723,308.2999999998646,310.3999999998627,311.5099999998617,313.4499999998599,316.679999999857,322.4799999998517,324.83999999984957,329.60999999984523,331.55999999984346,340.44999999983537,343.52999999983257,344.5999999998316,351.59999999982523,355.40999999982176];
